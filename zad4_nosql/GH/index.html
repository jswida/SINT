<!DOCTYPE html>
<html lang="en">
<!-- cd snap/mongodb -->
<!-- bin/mongod --dbpath ./data/db/ --port 8004 -->
<head>
    <meta charset="UTF-8">
    <title>Uni Grade Manager</title>
    <link rel="stylesheet" href="resources/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bitter&display=swap" rel="stylesheet">

    <script type="text/javascript"
            src="https://code.jquery.com/jquery-3.5.1.js"
            integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
            crossorigin="anonymous"></script>
    <script type='text/javascript' src='resources/scripts/knockout-3.5.1.js'></script>

    <!--    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.0/knockout-min.js"></script>-->
    <script type="text/javascript" src="resources/scripts/knockout.mapping-latest.js"></script>
    <script type="text/javascript" src="resources/scripts/script.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<header>
    <div>
        <img src="resources/images/logo_256x256.png" alt="UGM Logo">
    </div>
    <div>
        <h1>University Grade Manager</h1>
    </div>
</header>

<div class="content-main">
    <nav class="content-nav">
        <h2>Menu</h2>
        <ul>
            <li><a class="link-nav" href="#students">Manage students</a></li>
            <li><a class="link-nav" href="#courses">Manage courses</a></li>
            <li><a class="link-nav" href="#">Empty view</a></li>
        </ul>
    </nav>

    <article class="article-content" id="students">
        <h2>List of students</h2>
        <form id="studentsForm" data-bind="submit: saveNewStudent">
            <table>
                <thead>
                    <tr>
                        <th>Index <br> <input type="number" name="index" placeholder="search.."> </th>
                        <th>First Name <br> <input data-bind="textInput: studentFilters.first_name" type="search" name="first_name" placeholder="search.."></th>
                        <th>Last Name <br> <input data-bind="textInput: studentFilters.last_name" type="search" name="last_name" placeholder="search.."></th>
                        <th>Birth Date <br> <input data-bind="textInput: studentFilters.birth_date" type="date" name="birth_date">
                            <select>
                                <option value="lt">Less</option>
                                <option value="eq">Equal</option>
                                <option value="gt">Greater</option>
                            </select>
                        </th>
                        <th class="table-actions">Actions</th>
                    </tr>
                </thead>
                <tbody data-bind="foreach: students">
                <tr>
                    <td>
                        <input data-bind="value: index" type="number" name="index" placeholder="Index" readonly>
                    </td>
                    <td>
                        <input data-bind="value: firstName" type="text" name="firstname" placeholder="First name" required>
                    </td>
                    <td>
                        <input data-bind="value: lastName"  type="text" name="lastname" placeholder="Last name" required>
                    </td>
                    <td>
                        <input data-bind="value: birthday" type="date" name="birthdate" min="1930-01-01" max="2030-01-01" required>
                    </td>
                    <td class="td-buttons">
                        <button type="button" class="info"  onclick="location.href='#grades'" data-bind="click: $parent.setGrades"> Grades</button>
                        <button type="button" class="danger" data-bind="click: $parent.removeStudent">Delete</button>
                    </td>
                </tr>
                </tbody>
                <tr>
                    <td>
                    </td>
                    <td>
                        <input  data-bind="value: newStudent.firstName" type="text" name="firstname" placeholder="First name" required>
                    </td>
                    <td>
                        <input  data-bind="value: newStudent.lastName" type="text" name="lastname" placeholder="Last name" required>
                    </td>
                    <td>
                        <input  data-bind="value: newStudent.birthday" type="date" name="birthdate" min="1930-01-01" max="2030-01-01" required>
                    </td>
                    <td class="td-buttons">
                        <button type="submit" class="success">Add new</button>
                    </td>
                </tr>
            </table>
        </form>
    </article>
    <article class="article-content" id="grades" data-bind="if: newGrade.student">
        <h2>List of grades</h2>
        <form id="grades-form" data-bind="submit: saveNewGrade">
            <table>
                <thead>
                <tr>
                    <th class="table-actions">Course</th>
                    <th class="table-actions">Created at</th>
                    <th>
                        Value
                        <br>
                        <select>
                            <option value="2.0">2.0</option>
                            <option value="3.0">3.0</option>
                            <option value="3.5">3.5</option>
                            <option value="4.0" >4.0</option>
                            <option value="4.5">4.5</option>
                            <option value="5.0">5.0</option>
                        </select>
                        <select>
                            <option value="lt">Less</option>
                            <option value="eq">Equal</option>
                            <option value="gt">Greater</option>
                        </select>
                    </th>
                    <th class="table-actions">Actions</th>
                </tr>
                </thead>
                <tbody data-bind="foreach: { data: grades, as: 'gradeObject' }">
                    <tr>
                        <td>
                            <select data-bind="options: $parent.courses,
                            optionsText: function(item) {
                              return item.name;
                            },
                            optionsValue: function(item) {
                              return item.id;
                            },
                            value: gradeObject.courseId">
                            </select>
                        </td>
                        <td>
                            <input data-bind="value: date" type="date" name="date" min="2000-01-01" max="2030-12-31" required>
                        </td>
                        <td>
                            <select data-bind="options: $parent.possibleGradeValue,
                            optionsText: function(item) {
                              return item.name;
                            },
                            optionsValue: function(item) {
                              return item.value;
                            },
                            value: gradeObject.value">
                            </select>
                        </td>
                        <td class="td-buttons">
                            <button type="button" class="danger" data-bind="click: $parent.removeGrade">Delete</button></td>
                    </tr>
                </tbody>
                <tr>
                    <td>
                        <select data-bind="options: courses,
                      optionsText: function(item) {
                        return item.name;
                      },
                      optionsValue: function(item) {
                        return item.id;
                      },
                      optionsCaption: 'Select course ...',
                      value: gradeFilters.course_id">
                        </select>
                    </td>
                    <td>
                        <input data-bind="value: newGrade.date" type="date" name="date" min="2010-01-01" max="2030-12-31" required>
                    </td>
                    <td>
                        <select>
                            <option disabled selected value> -- select -- </option>
                            <option value="2.0">2.0</option>
                            <option value="3.0">3.0</option>
                            <option value="3.5">3.5</option>
                            <option value="4.0" >4.0</option>
                            <option value="4.5">4.5</option>
                            <option value="5.0">5.0</option>
                        </select>
                    </td>
                    <td class="td-buttons">
                        <button type="submit" class="success">Add new</button>
                    </td>
                </tr>

            </table>
        </form>
    </article>

    <article class="article-content" id="courses">
        <h2>List of courses</h2>
        <form id="courses-form" data-bind="submit: saveNewCourse">
            <table>
                <thead>
                <tr>
                    <th>ID <br> <input type="search" name="idSearch" placeholder="search.."></th>
                    <th>Name <br> <input data-bind="textInput: courseFilters.name" type="search" name="name" placeholder="search.."></th>
                    <th>Lecturer<br> <input data-bind="textInput: courseFilters.lecturer" type="search" name="lecturer" placeholder="search.."></th>
                    <th class="table-actions">Actions</th>
                </tr>
                </thead>
                <tbody data-bind="foreach: courses">
                <tr>
                    <td>
                        <input data-bind="value: id"  type="number" name="ID" readonly>
                    </td>
                    <td>
                        <input data-bind="value: name" type="text" name="name" required>
                    </td>
                    <td>
                        <input data-bind="value: lecturer" type="text" name="lecturer" required>
                    </td>
                    <td class="td-buttons">
                        <button type="button" class="danger" data-bind="click: $parent.removeCourse">Delete</button>
                    </td>
                </tr>
                </tbody>
                <tr>
                    <td>
                    </td>
                    <td>
                        <input data-bind="value: newCourse.name" type="text" name="name" placeholder="Course name" required>
                    </td>
                    <td>
                        <input data-bind="value: newCourse.lecturer" type="text" name="lecturer" placeholder="Lecturer name" required>
                    </td>
                    <td class="td-buttons">
                        <button type="submit" class="success">Add new</button>
                    </td>
                </tr>

            </table>
        </form>
    </article>
</div>

<footer>
    <p>&copy; Bartosz Sobkowiak 2020</p>
    <a href="https://put.poznan.pl/">Poznan University of Technology</a> <br>
    <a href="https://fc.put.poznan.pl/index.php">Faculty of Computing</a>
</footer>

</body>
</html>
